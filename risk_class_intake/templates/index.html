<!doctype html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css"
          href="{% static 'risk_class_intake/styles.css' %}">


</head>
<body>
<div class="container">
    <h1 class="mt-4 mb-4">VRKI Intakedocument</h1>
    <form class="my_form" method="post">
        {% csrf_token %}
        <div class="form-upper">
            {% if messages %}
        <div class="alert alert-success">
            {% for message in messages %}
            {{ message }}
            {% endfor %}
        </div>
        {% endif %}
            <div class="form-group mb-4">
                <label for="name">Naam Aanvrager:</label>
                <input class="form-control" type="text" id="name"
                       name="name"
                       required>
            </div>
            <div class="form-group mb-4">
                <label for="address">Adres:</label>
                <input class="form-control" type="text" id="address"
                       name="address" required>
            </div>
            <div class="form-group mb-4">
                <label for="zip_code">Postcode:</label>
                <input class="form-control" type="text" id="zip_code"
                       name="zip_code" required>
            </div>
            <div class="form-group mb-4">
                <label for="city">Plaats:</label>
                <input class="form-control" type="text" id="city"
                       name="city" required>
            </div>
            <div class="form-group mb-4">
                <label for="email">Email:</label>
                <input class="form-control" type="email" id="email"
                       name="email" required>
            </div>

            <div class="btn-group-horizontal" id="requesting_party">
                <label>Eisende partij:</label>
                <div>
                    <input class="btn-check form-check-input"
                           type="radio"
                           id="owner" name="requesting_party"
                           value="Bewoner / eigenaar / beheerder"
                           required>
                    <label class="btn btn-outline-secondary"
                           for="owner">Bewoner
                        / eigenaar / beheerder
                    </label>
                    <input class="btn-check form-check-input"
                           type="radio"
                           id="insurance" name="requesting_party"
                           value="verzekering"
                           required>
                    <label class="btn btn-outline-secondary"
                           for="insurance">Verzekering
                    </label>
                </div>
            </div>
            <div class="btn-group-horizontal" id="risk_class">
                <label>Geconstateerde risicoklasse conform VRKI 2.0:</label>
                <div>
                    <input class="btn-check form-check-input" type="radio"
                           id="class_1" name="risk_class"
                           value="Klasse 1"
                           required>
                    <label class="btn btn-outline-secondary"
                           for="class_1">Klasse 1</label>
                    <input class="btn-check form-check-input" type="radio"
                           id="class_2" name="risk_class"
                           value="Klasse 2"
                           required>
                    <label class="btn btn-outline-secondary"
                           for="class_2">Klasse 2</label>
                    <input class="btn-check form-check-input" type="radio"
                           id="class_3" name="risk_class"
                           value="Klasse 3"
                           required>
                    <label class="btn btn-outline-secondary"
                           for="class_3">Klasse 3</label>
                    <input class="btn-check form-check-input" type="radio"
                           id="class_4" name="risk_class"
                           value="Klasse 4"
                           required>
                    <label class="btn btn-outline-secondary"
                           for="class_4">Klasse 4</label>
                </div>
            </div>
        </div>
        <div class="form-middle">
            <h4>Geadviseerde combinatie van maatregelen conform geconstateerde
                risicoklasse VRKI 2.0</h4>
            <div>
                <label>Organisatorisch:</label>
                <input type="radio" id="O1-organizational"
                       name="organizational" value="O1" required>
                <label for="O1-organizational">Option 1</label>
                <input type="radio" id="O2-organizational"
                       name="organizational" value="O2">
                <label for="O2-organizational">Option 2</label>
            </div>

            <div>
                <label>Bouwkundig:</label>
                <input type="radio" id="BK1-constructional"
                       name="constructional" value="BK1" required>
                <label for="BK1-constructional">BK1</label>
                <input type="radio" id="BK2-constructional"
                       name="constructional" value="BK2">
                <label for="BK2-constructional">BK2</label>
                <input type="radio" id="BK3-constructional"
                       name="constructional" value="BK3">
                <label for="BK3-constructional">BK3</label>
                <input type="radio" id="BK4-constructional"
                       name="constructional" value="BK4">
                <label for="BK4-constructional">BK4</label>
            </div>

            <div>
                <label>Compartiment:</label>
                <input type="radio" id="CO1-compartment" name="compartment"
                       value="CO1" required>
                <label for="CO1-compartment">CO1</label>
                <input type="radio" id="CO2-compartment" name="compartment"
                       value="CO2">
                <label for="CO2-compartment">CO2</label>
                <input type="radio" id="CO3-compartment" name="compartment"
                       value="CO3">
                <label for="CO3-compartment">CO3</label>
                <input type="radio" id="CO4-compartment" name="compartment"
                       value="CO4">
                <label for="CO4-compartment">CO4</label>
            </div>

            <div>
                <label>Meeneem beperkend:</label>
                <input type="radio" id="ME1-carryaway" name="carryaway"
                       value="ME1" required>
                <label for="ME1-carryaway">ME1</label>
                <input type="radio" id="ME2-carryaway" name="carryaway"
                       value="ME2">
                <label for="ME2-carryaway">ME2</label>
                <input type="radio" id="ME3-carryaway" name="carryaway"
                       value="ME3">
                <label for="ME3-carryaway">ME3</label>
                <input type="radio" id="ME4-carryaway" name="carryaway"
                       value="ME4">
                <label for="ME4-carryaway">ME4</label>
            </div>

            <div>
                <label>Elektronisch:</label>
                <input type="radio" id="EL1-electronic" name="electronic"
                       value="EL1" required>
                <label for="EL1-electronic">EL1</label>
                <input type="radio" id="EL2-electronic" name="electronic"
                       value="EL2">
                <label for="EL2-electronic">EL2</label>
                <input type="radio" id="EL3-electronic" name="electronic"
                       value="EL3">
                <label for="EL3-electronic">EL3</label>
                <input type="radio" id="EL4-electronic" name="electronic"
                       value="EL4">
                <label for="EL4-electronic">EL4</label>
            </div>

            <div>
                <label>Schildetectie:</label>
                <input type="radio" id="SD1-shield" name="shield" value="SD1"
                       required>
                <label for="SD1-shield">SD1</label>
                <input type="radio" id="SD2-shield" name="shield" value="SD2">
                <label for="SD2-shield">SD2</label>
                <input type="radio" id="SD3-shield" name="shield" value="SD3">
                <label for="SD3-shield">SD3</label>
                <input type="radio" id="SD4-shield" name="shield" value="SD4">
                <label for="SD4-shield">SD4</label>
            </div>

            <div>
                <label>Alarmtransmissie:</label>
                <input type="radio" id="AT1-alarm" name="alarm" value="AT1"
                       required>
                <label for="AT1-alarm">AT1</label>
                <input type="radio" id="AT2-alarm" name="alarm" value="AT2">
                <label for="AT2-alarm">AT2</label>
                <input type="radio" id="AT3-alarm" name="alarm" value="AT3">
                <label for="AT3-alarm">AT3</label>
                <input type="radio" id="AT4-alarm" name="alarm" value="AT4">
                <label for="AT4-alarm">AT4</label>
            </div>

            <div>
                <label>Tech. Alarmverificatie:</label>
                <input type="radio" id="Video-verification" name="verification"
                       value="Video" required>
                <label for="Video-verification">Video</label>
                <input type="radio" id="Audio-verification" name="verification"
                       value="Audio">
                <label for="Audio-verification">Audio</label>
                <input type="radio" id="MultipleZones-verification"
                       name="verification" value="Multiple Zones">
                <label for="MultipleZones-verification">Meerdere zones</label>
            </div>

            <div>
                <label>Reactie:</label>
                <input type="radio" id="RE1-reaction" name="reaction"
                       value="RE1" required>
                <label for="RE1-reaction">RE1</label>
                <input type="radio" id="RE2-reaction" name="reaction"
                       value="RE2">
                <label for="RE2-reaction">RE2</label>
                <input type="radio" id="RE3-reaction" name="reaction"
                       value="RE3">
                <label for="RE3-reaction">RE3</label>
                <input type="radio" id="RE4-reaction" name="reaction"
                       value="RE4">
                <label for="RE4-reaction">RE4</label>
            </div>

            <div>
                <label>Maatwerk:</label>
                <input type="radio" id="NotApplicable-customization"
                       name="customization" value="N.V.T." required>
                <label for="NotApplicable-customization">N.V.T.</label>
                <input type="radio" id="CustomPlan-customization"
                       name="customization"
                       value="Ja, toelichting in beveiligingsplan">
                <label for="CustomPlan-customization">Ja, toelichting in
                    beveiligingsplan</label>
            </div>

            <div>
                <label>Partiële beveiliging:</label>
                <input type="radio" id="No-partial-security"
                       name="partial_security" value="Nee" required>
                <label for="No-partial-security">Nee</label>
                <input type="radio" id="Yes-partial-security"
                       name="partial_security"
                       value="Ja, toelichting in beveiligingsplan">
                <label for="Yes-partial-security">Ja, toelichting in
                    beveiligingsplan</label>
            </div>

            <div>
                <label>Onderhoud:</label>
                <label for="frequency">keren per jaar</label>
                <input type="number" id="frequency" name="frequency"
                       placeholder="?"
                       value="0" min="0" required>
            </div>
        </div>
        <div class="form-group mb-4 form-lower" id="dynamic-inputs">
            <h4>Attractieve goederen en inventaris (bedrijven)</h4>
            <label>Voeg items toe:</label>
            <div class="d-flex mb-2 align-items-center input-row">
                <input type="text" name="item_name[]" class="form-control me-2"
                       placeholder="Naam/Beschrijving" required>
                <input type="number" name="item_value[]"
                       class="form-control me-2" placeholder="Euro's" min="0"
                       required>
                <select name="item_attractiveness[]" class="form-select me-2"
                        required>
                    <option value="" disabled selected>Attractiviteit</option>
                    <option value="L">L</option>
                    <option value="M">M</option>
                    <option value="H">H</option>
                    <option value="ZH">ZH</option>
                </select>
                <button type="button" class="btn btn-danger remove-btn">
                    Verwijder
                </button>
            </div>
        </div>
        <div>
            <button type="button" id="add-btn" class="btn btn-secondary mb-4">
                Voeg item toe
            </button>
            <button class="btn btn-secondary mb-4" type="submit">Submit
            </button>
        </div>

    </form>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
<script>
    // Get the container div and the add button
    const dynamicInputs = document.getElementById('dynamic-inputs');
    const addBtn = document.getElementById('add-btn');

    // Function to add a new input row
    addBtn.addEventListener('click', () => {
        const newRow = document.createElement('div');
        newRow.className = 'd-flex mb-2 align-items-center input-row';

        // Add the name/description input
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.name = 'item_name[]';
        nameInput.className = 'form-control me-2';
        nameInput.placeholder = 'Naam/Beschrijving';
        nameInput.required = true;

        // Add the value input
        const valueInput = document.createElement('input');
        valueInput.type = 'number';
        valueInput.name = 'item_value[]';
        valueInput.className = 'form-control me-2';
        valueInput.placeholder = "Euro's";
        valueInput.min = '0';
        valueInput.required = true;

        // Add the select box
        const selectInput = document.createElement('select');
        selectInput.name = 'item_attractiveness[]';
        selectInput.className = 'form-select me-2';
        selectInput.required = true;

        // Add options to the select box
        const defaultOption = document.createElement('option');
        defaultOption.value = '';
        defaultOption.textContent = 'Attractiviteit';
        defaultOption.disabled = true;
        defaultOption.selected = true;
        selectInput.appendChild(defaultOption);

        const options = ['L', 'M', 'H', 'ZH'];
        options.forEach(value => {
            const option = document.createElement('option');
            option.value = value;
            option.textContent = value;
            selectInput.appendChild(option);
        });

        // Add the remove button
        const removeBtn = document.createElement('button');
        removeBtn.type = 'button';
        removeBtn.className = 'btn btn-danger remove-btn';
        removeBtn.textContent = 'Verwijder';
        removeBtn.addEventListener('click', () => newRow.remove());

        // Append the inputs and button to the row
        newRow.appendChild(nameInput);
        newRow.appendChild(valueInput);
        newRow.appendChild(selectInput); // Ensure the select box is appended
        newRow.appendChild(removeBtn);

        // Append the row to the container
        dynamicInputs.appendChild(newRow);
    });

    // Event listener to remove a row when the "Remove" button is clicked
    dynamicInputs.addEventListener('click', (event) => {
        if (event.target.classList.contains('remove-btn')) {
            event.target.parentElement.remove();
        }
    });
</script>
</body>
</html>